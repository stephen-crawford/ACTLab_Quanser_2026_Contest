=== Diagnose Startup Max Steering ===

Path: 10502 waypoints
Path start (QLabs): (-1.205001, -0.831302)
Path start (map):   (0.000856, -0.000982)
Path[1] (map):      (0.001683, -0.000403)
Path[100] (map):    (0.083631, 0.056874)
Spline total length: 10.5125m

Path tangent at s=0: 0.610017 rad (34.95 deg)
Path curvature at s=0: 0.000000

=== Test 1: Pre-computed path refs (no adaptive re-projection) ===
Path refs:
  k=0: (0.000856, -0.000982) theta=0.6100 curv=0.0000
  k=1: (0.019297, 0.011908) theta=0.6100 curv=0.0000
  k=2: (0.037739, 0.024798) theta=0.6100 curv=0.0000
  k=3: (0.056181, 0.037687) theta=0.6100 curv=-0.0000
  k=4: (0.074623, 0.050577) theta=0.6100 curv=-0.0000
  k=5: (0.093065, 0.063467) theta=0.6100 curv=-0.0000
  k=6: (0.111507, 0.076357) theta=0.6100 curv=0.0000
  k=7: (0.129949, 0.089247) theta=0.6100 curv=0.0000
  k=8: (0.148390, 0.102137) theta=0.6100 curv=-0.0000
  k=9: (0.166832, 0.115026) theta=0.6100 curv=-0.0000
  k=10: (0.185274, 0.127916) theta=0.6100 curv=-0.0000

Result: v_cmd=0.4453, delta_cmd=0.4500 (25.8 deg), success=1, solve=11786us
Expected delta_cmd ≈ 0.0, got 0.4500

=== Test 2: With adaptive path re-projection (as deployed) ===
Result: v_cmd=0.4453, delta_cmd=0.4500 (25.8 deg), success=1, solve=11032us
Expected delta_cmd ≈ 0.0, got 0.4500

=== Test 3: Multi-step simulation with state_delta = delta_cmd (deployment bug?) ===
step | v_cmd  delta_cmd | state_v  state_delta | x       y       theta   | CTE     h_err
-----|------------------|----------------------|-------------------------|-------------
   0 |  0.445   0.4500 |   0.034       0.0000 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   1 |  0.445   0.4500 |   0.034       0.4500 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   2 |  0.445   0.4500 |   0.034       0.4500 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   3 |  0.445   0.4500 |   0.034       0.4500 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   4 |  0.445   0.4500 |   0.034       0.4500 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   5 |  0.445   0.4500 |   0.034       0.4500 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   6 |  0.445   0.4500 |   0.034       0.4500 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   7 |  0.445   0.4500 |   0.034       0.4500 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   8 |  0.445   0.4500 |   0.034       0.4500 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   9 |  0.445   0.4500 |   0.034       0.4500 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
  10 |  0.445   0.4500 |   0.034       0.4500 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
  11 |  0.445   0.4500 |   0.034       0.4500 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
  12 |  0.445   0.4500 |   0.034       0.4500 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
  13 |  0.445   0.4500 |   0.034       0.4500 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
  14 |  0.445   0.4500 |   0.034       0.4500 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960

=== Test 4: Multi-step with state_delta = 0 (measured from stationary vehicle) ===
step | v_cmd  delta_cmd | state_v  state_delta | x       y       theta   | CTE     h_err
-----|------------------|----------------------|-------------------------|-------------
   0 |  0.445   0.4500 |   0.034       0.0000 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   1 |  0.445   0.4500 |   0.034       0.0000 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   2 |  0.446   0.4500 |   0.034       0.0000 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   3 |  0.446   0.4500 |   0.034       0.0000 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   4 |  0.447   0.4500 |   0.034       0.0000 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   5 |  0.447   0.4500 |   0.034       0.0000 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   6 |  0.445   0.4500 |   0.034       0.0000 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   7 |  0.446   0.4500 |   0.034       0.0000 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   8 |  0.447   0.4500 |   0.034       0.0000 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
   9 |  0.447   0.4500 |   0.034       0.0000 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
  10 |  0.445   0.4500 |   0.034       0.0000 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
  11 |  0.446   0.4500 |   0.034       0.0000 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
  12 |  0.447   0.4500 |   0.034       0.0000 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
  13 |  0.447   0.4500 |   0.034       0.0000 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960
  14 |  0.445   0.4500 |   0.034       0.0000 |  0.0160  0.0040  0.0140 |  0.0046 -0.5960

=== Test 5: Same test with max_steering=0.45 (hardware limit) ===
With max_steering=0.45: v_cmd=0.4469, delta_cmd=0.4500 (25.8 deg)

=== Summary ===
If Tests 1 & 2 produce delta≈0 but Test 3 shows escalating delta,
then the bug is state_delta = delta_cmd feedback (line 1113).
The solver warm-starts from its own commands, and if those commands
don't match the actual vehicle state, oscillation follows.
