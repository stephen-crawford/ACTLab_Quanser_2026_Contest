=== Deployment-Realistic MPCC Tests ===

[Individual Mission Legs]
  TEST: deployment: hub→pickup with PD speed lag → CTE < 0.30m (max_cte=0.021 avg_cte=0.006 speed=0.39 steps=270 prog=99.3%) [PASS]
  TEST: deployment: pickup→dropoff with PD speed lag → CTE < 0.30m (max_cte=0.017 avg_cte=0.008 speed=0.34 steps=178 prog=98.4%) [PASS]
  TEST: deployment: dropoff→hub with PD speed lag → CTE < 0.30m (max_cte=0.030 avg_cte=0.009 speed=0.34 steps=415 prog=99.4%) [PASS]

[PD Speed Lag Comparison]
  TEST: deployment: hub→pickup WITHOUT PD lag → better CTE (pd_cte=0.021 no_lag_cte=0.021) [PASS]

[Full Mission]
  TEST: deployment: full mission (all 3 legs) → total max CTE < 0.30m 
    hub_to_pickup: max=0.021 avg=0.006 prog=99% 
    pickup_to_dropoff: max=0.017 avg=0.008 prog=98% 
    dropoff_to_hub: max=0.030 avg=0.009 prog=99% 
    TOTAL: max_cte=0.030 avg_cte=0.008 [PASS]

[Path Planning Verification]
  TEST: planning: path generation is deterministic and legs tile correctly (deterministic, gaps: hp→pd=0.102m pd→dh=0.030m) [PASS]
  TEST: planning: path endpoints match hub/pickup/dropoff within 50mm (hp_end=0.102 pd_start=0.000 pd_end=0.030 dh_start=0.000) [PASS]
  TEST: planning: curvature within vehicle limits after Gaussian smoothing (max_curv=2.250, vehicle_limit=2.256) [PASS]
  TEST: planning: spline path has no gaps > 2mm at 1mm evaluation spacing (max_gap=0.0010m) [PASS]

[Synthetic Path — Solver Agnosticism]
  TEST: arbitrary: 5m straight path → CTE < 0.05m (max_cte=0.000 avg_cte=0.000 speed=0.61 prog=99%) [PASS]
  TEST: arbitrary: gentle left curve (r=2.0m, 90°) → CTE < 0.15m (max_cte=0.024 avg_cte=0.009 prog=98%) [PASS]
  TEST: arbitrary: gentle right curve (r=2.0m, -90°) → CTE < 0.15m (max_cte=0.024 avg_cte=0.009 prog=98%) [PASS]
  TEST: arbitrary: tight left curve (r=0.6m, 90°) → CTE < 0.30m (max_cte=0.066 avg_cte=0.028 prog=90%) [PASS]
  TEST: arbitrary: tight right curve (r=0.6m, -90°) → CTE < 0.30m (max_cte=0.066 avg_cte=0.028 prog=90%) [PASS]
  TEST: arbitrary: S-curve (r=1.0m, ±45°) → CTE < 0.20m (max_cte=0.049 avg_cte=0.022 prog=94%) [PASS]
  TEST: arbitrary: tight S-curve (r=0.6m, ±60°) → CTE < 0.30m (max_cte=0.062 avg_cte=0.029 prog=93%) [PASS]
  TEST: arbitrary: U-turn (r=0.7m, 180°) → CTE < 0.30m (max_cte=0.072 avg_cte=0.019 prog=97%) [PASS]
  TEST: arbitrary: full circle (r=1.0m, 360°) → CTE < 0.20m (max_cte=0.052 avg_cte=0.013 prog=99%) [PASS]

[Node Network Routes — A* Paths]
  TEST: route: node 1 → 5 (inner-north 1→5) → CTE < 0.30m (max_cte=0.065 avg_cte=0.020 speed=0.38 prog=98% path=2680pts) [PASS]
  TEST: route: node 9 → 7 (inner-east 9→7 (straight)) → CTE < 0.30m (max_cte=0.000 avg_cte=0.000 speed=0.55 prog=96% path=1985pts) [PASS]
  TEST: route: node 3 → 1 (inner-west 3→1) → CTE < 0.30m (max_cte=0.051 avg_cte=0.019 speed=0.37 prog=94% path=1488pts) [PASS]
  TEST: route: node 5 → 3 (inner-south 5→3) → CTE < 0.30m (max_cte=0.054 avg_cte=0.019 speed=0.38 prog=95% path=1486pts) [PASS]
  TEST: route: node 0 → 2 (outer-NW→E 0→2) → CTE < 0.30m (max_cte=0.041 avg_cte=0.013 speed=0.42 prog=95% path=1960pts) [PASS]
  TEST: route: node 2 → 4 (outer-E→NE 2→4) → CTE < 0.30m (max_cte=0.040 avg_cte=0.014 speed=0.42 prog=96% path=1911pts) [PASS]
  TEST: route: node 4 → 6 (outer-NE→SE 4→6) → CTE < 0.30m (max_cte=0.038 avg_cte=0.017 speed=0.41 prog=96% path=1879pts) [PASS]
  TEST: route: node 0 → 4 (cross 0→4 (2 turns)) → CTE < 0.30m (max_cte=0.040 avg_cte=0.013 speed=0.44 prog=98% path=3871pts) [PASS]
  TEST: route: node 9 → 2 (cross 9→2 (inner+outer)) → CTE < 0.30m (max_cte=0.059 avg_cte=0.026 speed=0.41 prog=98% path=3142pts) [PASS]
  TEST: route: node 4 → 14 (south-entry 4→14 (straight)) → CTE < 0.30m (max_cte=0.000 avg_cte=0.000 speed=0.58 prog=98% path=2886pts) [PASS]
  TEST: route: node 14 → 20 (circle→south 14→20) → CTE < 0.30m (max_cte=0.034 avg_cte=0.017 speed=0.49 prog=97% path=3495pts) [PASS]
  TEST: route: node 0 → 6 (full-outer 0→6 (3 turns)) → CTE < 0.30m (max_cte=0.038 avg_cte=0.013 speed=0.45 prog=99% path=5749pts) [PASS]

[Orientation & Velocity Invariance]
  TEST: invariance: same curve at 4 orientations → similar CTE (±50%) (ctes: 0.052 0.052 0.052 0.052 max_diff=0.000) [PASS]
  TEST: robustness: solver tracks path at v_ref = 0.30, 0.50, 0.65, 0.90 
    v_ref=0.30 max_cte=0.041 
    v_ref=0.50 max_cte=0.042 
    v_ref=0.65 max_cte=0.041 
    v_ref=0.90 max_cte=0.040 [PASS]

[Heading Misalignment — Deployment Gap]
  TEST: heading: 5° offset on gentle curve → CTE < 0.10m (max_cte=0.023 avg_cte=0.006 prog=98%) [PASS]
  TEST: heading: 10° offset on gentle curve → CTE < 0.15m (max_cte=0.023 avg_cte=0.007 prog=97%) [PASS]
  TEST: heading: 20° offset on gentle curve → CTE < 0.25m (max_cte=0.023 avg_cte=0.007 prog=97%) [PASS]
  TEST: heading: 30° offset on straight → CTE < 0.30m (max_cte=0.028 avg_cte=0.003 prog=99%) [PASS]
  TEST: heading: -20° offset on straight → CTE < 0.25m (max_cte=0.015 avg_cte=0.003 prog=99%) [PASS]
  TEST: heading: 15° offset on hub→pickup mission leg → CTE < 0.30m (max_cte=0.034 avg_cte=0.014 prog=99%) [PASS]

[Stop-and-Resume — Deployment Gap]
  TEST: stop-resume: periodic stops on gentle curve → CTE < 0.20m (max_cte=0.025 stops=3 prog=99%) [PASS]
  TEST: stop-resume: 3 stops on hub→pickup → CTE < 0.30m (max_cte=0.034 prog=100%) [PASS]

[Mission Leg Transition — Deployment Gap]
  TEST: transition: hub→pickup then pickup→dropoff → CTE < 0.30m on both 
    leg1: max_cte=0.034 prog=99%
    leg2: max_cte=0.041 prog=99% heading_offset=46.4deg [PASS]

[Measurement Noise — Deployment Gap]
  TEST: noise: σ_pos=5mm σ_heading=0.5° on gentle curve → CTE < 0.20m (max_cte=0.025 prog=98%) [PASS]
  TEST: noise: σ_pos=5mm σ_heading=0.5° on hub→pickup → CTE < 0.30m (max_cte=0.035 prog=99%) [PASS]

[No-Startup-Ramp — Fix Verification]
  TEST: startup: no ramp (duration=0) on hub→pickup → CTE < 0.30m (max_cte=0.034 prog=99%) [PASS]

[Full Mission Combined — State Carry-Over + Hermite Blending]
  TEST: combined: 3-leg mission with state carry-over + Hermite blending 
    hub_to_pickup: max_cte=0.021 avg_cte=0.006 heading_err=8.3deg steer_sat=0 prog=99% OK
    pickup_to_dropoff: max_cte=0.018 avg_cte=0.008 heading_err=7.6deg steer_sat=0 prog=99% OK
    dropoff_to_hub: max_cte=0.030 avg_cte=0.009 heading_err=11.0deg steer_sat=0 prog=99% OK
    COMBINED: max_cte=0.030 avg_cte=0.008 steer_sat=0% duration=86.3s avg_speed=0.36m/s 
    CSV written: combined_mission.csv [PASS]

=== Results: 45 passed, 0 failed ===
