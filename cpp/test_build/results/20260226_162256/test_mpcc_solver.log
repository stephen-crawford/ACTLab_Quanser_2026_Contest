=== MPCC Solver Tests ===

[Config Defaults]
  TEST: config: contour_weight default is 15.0 (tuned Feb 2026) [PASS]
  TEST: config: contour_weight > lag_weight (lateral tracking priority) [PASS]
  TEST: config: velocity_weight >= 15.0 (strong tracking)       [PASS]
  TEST: config: reference_velocity is 0.45                      [PASS]
  TEST: config: max_velocity >= 1.0 (ref uses 2.0)              [PASS]
  TEST: config: min_velocity >= 0 (ref uses u_min=0)            [PASS]

[Dynamics Model]
  TEST: dynamics: straight ahead (delta=0) preserves heading    [PASS]
  TEST: dynamics: positive delta (left steer) → positive yaw rate [PASS]
  TEST: dynamics: negative delta (right steer) → negative yaw rate [PASS]

[Solver - Basic]
  TEST: solver: straight path → velocity approaches v_ref     [PASS]
  TEST: solver: straight path → near-zero steering            [PASS]

[Solver - Steering Direction (CRITICAL)]
  TEST: solver: LEFT turn path → POSITIVE delta (left steering) [PASS]
  TEST: solver: RIGHT turn path → NEGATIVE delta (right steering) [PASS]

[Solver - Hub-to-Pickup Scenario]
  TEST: solver: hub→pickup path → steers LEFT (not right into wall) 
QP solver returned error status -1 (ACADOS_UNKNOWN) in SQP iteration 4, QP iteration 500.
[PASS]
  TEST: solver: hub→pickup → velocity > min (actually moving) 
QP solver returned error status -1 (ACADOS_UNKNOWN) in SQP iteration 4, QP iteration 500.
[PASS]

[Solver - Multi-step Simulation]
  TEST: solver: 20-step simulation → car advances along path  [PASS]
  TEST: solver: 20-step left turn → car follows curve         [PASS]

[Warm Start]
  TEST: solver: warm-started solve is faster than cold start    [PASS]

[Obstacle Avoidance]
  TEST: solver: obstacle on path → steers around it           [PASS]

[Contouring & Lag Errors]
  TEST: contouring: car offset left → positive e_c            [PASS]
  TEST: lag: car behind reference → negative e_l              [PASS]
  TEST: lag: car ahead of reference → positive e_l            [PASS]

[Performance]
  TEST: solver: solve time < 5ms                                (avg=1423us) [PASS]

[Heading Cost]
  TEST: heading_cost: heading_weight > 0 adds cost for misaligned heading [PASS]
  TEST: heading_cost: zero heading error adds no heading cost   [PASS]
  TEST: heading_cost: solver aligns heading on straight path    
QP solver returned error status -1 (ACADOS_UNKNOWN) in SQP iteration 3, QP iteration 500.
[PASS]
  TEST: heading_cost: heading_weight=0 disables heading penalty [PASS]

[Startup Ramp]
  TEST: startup_ramp: v_ref=0.20 during startup (elapsed < 3s)  [PASS]
  TEST: startup_ramp: v_ref=reference_velocity after startup    [PASS]
  TEST: startup_ramp: curvature decay applied during startup too [PASS]
  TEST: startup_weights: ramp enabled (duration=3s) → startup weights during ramp [PASS]
  TEST: startup_weights: solver corrects 45° heading faster in startup 
QP solver returned error status -1 (ACADOS_UNKNOWN) in SQP iteration 4, QP iteration 500.

QP solver returned error status -1 (ACADOS_UNKNOWN) in SQP iteration 20, QP iteration 500.

QP solver returned error status -1 (ACADOS_UNKNOWN) in SQP iteration 3, QP iteration 500.

QP solver returned error status -1 (ACADOS_UNKNOWN) in SQP iteration 1, QP iteration 500.
[PASS]

[Curvature-Adaptive Speed]
  TEST: curvature_speed: straight path → v_ref near reference_velocity [PASS]
  TEST: curvature_speed: high curvature → reduced v_ref       [PASS]
  TEST: curvature_speed: solver commands lower speed on curved path [PASS]

[Progress Tracking]
  TEST: progress: car right of path → solver steers left      [PASS]
  TEST: progress: solver advances along path over 10 steps      [PASS]
  TEST: progress: monotonic enforcement prevents backward jump  [PASS]

[Stuck Detection]
  TEST: stuck: steering saturated with no progress triggers after 3s [PASS]
  TEST: stuck: progress advance resets stuck timer              [PASS]
  TEST: stuck: non-saturated steering does not trigger stuck    [PASS]

[Closed-Loop Tracking Quality]
  TEST: tracking: 50-step straight path 